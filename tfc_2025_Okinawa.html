<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TFC 13Y æ²–ç¹©å››æ—¥éŠè¡Œç¨‹ç¸½è¦½</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #F8F7F4;
            color: #3D405B;
        }
        .nav-link {
            transition: all 0.3s;
        }
        .nav-link.active {
            color: #E07A5F;
            border-bottom: 2px solid #E07A5F;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            top: 2rem;
            left: -0.8rem; /* Mobile */
            width: 2px;
            height: calc(100% - 1rem);
            background-color: #81B29A;
        }
        .timeline-icon {
            position: absolute;
            left: -1.5rem; /* Mobile */
            top: 1.5rem;
            width: 2rem; /* Mobile */
            height: 2rem; /* Mobile */
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #81B29A;
            color: white;
            z-index: 10;
        }
        .option-tab {
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            transition: all 0.2s;
            border: 1px solid transparent;
        }
        .option-tab.active {
            background-color: #81B29A;
            color: white;
            border-color: #81B29A;
        }
        .option-tab:not(.active) {
             background-color: #F4F1DE;
             color: #3D405B;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 640px) { /* sm breakpoint */
            .timeline-item::before {
                left: -1.05rem;
            }
            .timeline-icon {
                left: -2rem;
                width: 2.5rem;
                height: 2.5rem;
            }
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex flex-col">
                    <h1 class="text-2xl md:text-3xl font-bold text-[#3D405B]">TFC 13Y æ²–ç¹©ä¹‹æ—…</h1>
                    <p class="text-sm text-gray-500">å››å¤©ä¸‰å¤œï¼ŒåäººåŒè¡Œï¼Œä¸€å ´é›£å¿˜çš„æ—…éŠ</p>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <a href="#overview" class="nav-link text-lg font-medium text-gray-600 hover:text-[#E07A5F] pb-1">ç¸½è¦½</a>
                    <a href="#day1" class="nav-link text-lg font-medium text-gray-600 hover:text-[#E07A5F] pb-1">Day 1</a>
                    <a href="#day2" class="nav-link text-lg font-medium text-gray-600 hover:text-[#E07A5F] pb-1">Day 2</a>
                    <a href="#day3" class="nav-link text-lg font-medium text-gray-600 hover:text-[#E07A5F] pb-1">Day 3</a>
                    <a href="#day4" class="nav-link text-lg font-medium text-gray-600 hover:text-[#E07A5F] pb-1">Day 4</a>
                </nav>
            </div>
        </div>
    </header>
    
    <nav class="md:hidden bg-white/80 backdrop-blur-lg shadow-sm sticky top-[76px] z-30">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-around py-2">
                <a href="#overview" class="nav-link text-sm font-medium text-gray-600 hover:text-[#E07A5F]">ç¸½è¦½</a>
                <a href="#day1" class="nav-link text-sm font-medium text-gray-600 hover:text-[#E07A5F]">Day 1</a>
                <a href="#day2" class="nav-link text-sm font-medium text-gray-600 hover:text-[#E07A5F]">Day 2</a>
                <a href="#day3" class="nav-link text-sm font-medium text-gray-600 hover:text-[#E07A5F]">Day 3</a>
                <a href="#day4" class="nav-link text-sm font-medium text-gray-600 hover:text-[#E07A5F]">Day 4</a>
            </div>
        </div>
    </nav>

    <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        
        <section id="overview" class="scroll-mt-32 mb-16">
            <h2 class="text-2xl sm:text-3xl font-bold text-[#E07A5F] border-b-2 border-[#F2CC8F] pb-2 mb-6">è¡Œç¨‹ç¸½è¦½</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-bold mb-4 text-[#3D405B]">é‡è¦è³‡è¨Š</h3>
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <span class="text-2xl mr-4">âœˆï¸</span>
                            <div>
                                <h4 class="font-semibold">èˆªç­è³‡è¨Š</h4>
                                <p class="text-gray-600">æ¡ƒåœ’ (TPE) â‡„ æ²–ç¹©é‚£éœ¸ (OKA)</p>
                                <p class="text-sm text-gray-500">10/23 å‡ºç™¼: 06:50 - 09:20</p>
                                <p class="text-sm text-gray-500">10/26 è¿”ç¨‹: 16:55 - 17:35</p>
                            </div>
                        </div>
                         <div class="flex items-start">
                            <span class="text-2xl mr-4">ğŸš—</span>
                            <div>
                                <h4 class="font-semibold">ç§Ÿè»Šè³‡è¨Š</h4>
                                <p class="text-gray-600">æ²–ç¹©OTSç§Ÿè»Š (æ–‡å®‡å·²é è¨‚)</p>
                                <p class="text-sm text-gray-500">10/23 10:00 è‡³ 10/26 14:00</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <span class="text-2xl mr-4">ğŸ‘¥</span>
                            <div>
                                <h4 class="font-semibold">åŒè¡Œæ—…ä¼´ (10äºº)</h4>
                                <p class="text-gray-600">è¡Œæè¨—é‹ï¼šå† èã€éŸ‹æ™ºã€1+ã€æœ±æœ±</p>
                            </div>
                        </div>
                    </div>
                </div>
                 <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-bold mb-4 text-[#3D405B]">è¡Œç¨‹æ¦‚è¦½</h3>
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <span class="text-2xl mr-4">ğŸï¸</span>
                            <div>
                                <h4 class="font-semibold">10/24 æ²–ç¹©åŒ—éƒ¨</h4>
                                <p class="text-gray-600">å¤å®‡åˆ©å³¶</p>
                                <p class="text-sm text-gray-500">ç³»æ»¿é­šå¸‚å ´/è¦è¦é£¯/é³´å£°ä»¥å¤–</p>
                            </div>
                        </div>
                         <div class="flex items-start">
                            <span class="text-2xl mr-4">ğŸ‹</span>
                            <div>
                                <h4 class="font-semibold">10/25 æ²–ç¹©åŒ—ä¸­éƒ¨</h4>
                                <p class="text-gray-600">ç¾éº—æµ·æ°´æ—é¤¨</p>
                                <p class="text-sm text-gray-500">æµ·é‚¦ä¸¸/ç‰çƒã®ç‰›</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <span class="text-2xl mr-4">ğŸŠ</span>
                            <div>
                                <h4 class="font-semibold">10/26 æ²–ç¹©ä¸­å—éƒ¨</h4>
                                <p class="text-gray-600"> æµ®æ½›/åœ‹éš›é€š</p>
                                <p class="text-sm text-gray-500">è‚‰çš„è®Šæ…‹é›†åœ˜</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <span class="text-2xl mr-4">ğŸ›ï¸</span>
                            <div>
                                <h4 class="font-semibold">10/27 æ²–ç¹©å—éƒ¨</h4>
                                <p class="text-gray-600">ç€¨é•·å³¶/åœ‹éš›é€š</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div id="itinerary"></div>

    </main>
    
    <script>
        const itineraryData = {
            day1: {
                title: "åŒ—éƒ¨æ¢ç´¢ä¹‹æ—…",
                date: "10/23 (é€±å››)",
                events: [
                    { time: "06:50 - 09:20", title: "å‡ºç™¼", icon: "âœˆï¸", description: "æ¡ƒåœ’æ©Ÿå ´ â†’ æŠµé”æ²–ç¹©é‚£éœ¸æ©Ÿå ´", notes: "è¨˜å¾—æª¢æŸ¥è­·ç…§èˆ‡æ©Ÿç¥¨ï¼ éœ€è¦è¨—é‹çš„æœ‰ï¼šå† èã€éŸ‹æ™ºã€1+ã€æœ±æœ±ã€‚" },
                    { time: "09:30 - 11:30", title: "æ©Ÿå ´æ‰‹çºŒ & ç§Ÿè»Š", icon: "ğŸš—", description: "é ˜å–è¡Œæã€ç§Ÿè»Šã€‚", notes: "æ²–ç¹©OTSç§Ÿè»Š (10/23 10:00~10/26 14:00)ï¼Œæ–‡å®‡å·²é è¨‚ã€‚" },
                    { time: "11:30 - 14:00", title: "åˆé¤ & äº¤é€š", icon: "ğŸ¤", description: "å‰å¾€ç³»æ»¿é­šå¸‚å ´äº«ç”¨æ—©é¤ï¼Œéš¨å¾Œé©…è»Šå‰å¾€æ²–ç¹©åŒ—éƒ¨äº«ç”¨è¦è¦é£¯ã€‚", notes: "è»Šç¨‹ç´„ 1 å°æ™‚ 10 åˆ†é˜ã€‚æ—©åˆé¤ï¼šç³»æ»¿é­šå¸‚å ´/è¦è¦é£¯ã€‚<br><a href='https://hanblog.tw/itoman-fish-center/' target='_blank' class='text-[#E07A5F] hover:underline'>ç³»æ»¿é­šå¸‚å ´ä»‹ç´¹</a><br><a href='https://bobbyfun.tw/2023-04-30-2328/' target='_blank' class='text-[#E07A5F] hover:underline'>è¦è¦é£¯ä»‹ç´¹</a>" },
                    { 
                        time: "14:00 - 17:00", title: "åŒ—éƒ¨æ™¯é»éŠè¦½", icon: "ğŸï¸", description: "æœ‰å¤šå€‹æ™¯é»ï¼Œè«‹é»é¸ä¸‹æ–¹æŒ‰éˆ•æŸ¥çœ‹ã€‚", 
                        options: {
                            'å¤å®‡åˆ©å³¶': { name: "å¤å®‡åˆ©å³¶", link: "https://bobbyfun.tw/2024-01-07-2704/", note: "å¤å®‡åˆ©å¤§æ©‹/æµ·æ´‹å¡”/å¿ƒå½¢å²©" },
                            'åè­·é³³æ¢¨åœ’': { name: "åè­·é³³æ¢¨åœ’", link: "https://bobbyfun.tw/wp-content/uploads/pixnet/136e4017db89101faa7aaafd230801b4.jpg", note: "é³³æ¢¨ç”°/æé¾åœ’å€" },
                            'FIFI PARLOR': { name: "ä¸‹åˆèŒ¶ FIFI PARLOR", link: "https://slowlifeinokinawa.com/okicafe-fifiparlor/", note: "æµ·æ™¯å’–å•¡åº—" },
                            'The Sinmay': { name: "The Sinmay -coffee & tea-", link: "https://www.threads.com/@annyliu0320/post/DO3XC0GEZgj/%E6%B2%96%E7%B9%A9%E9%9A%B1%E8%97%8F%E7%89%88%E7%8F%BE%E5%88%A8%E7%94%9F%E9%BB%91%E7%B3%96%E5%92%96%E5%95%A1%E5%A4%AA%E6%B5%AE%E8%AA%87%E7%8F%BE%E5%89%9D%E9%BB%91%E7%B3%96%E7%A3%9A%E5%8A%A0%E4%B8%8A%E5%86%B0%E6%B7%87%E6%B7%8B%E4%B8%80%E5%85%A5%E5%8F%A3%E6%95%B4%E5%80%8B%E7%88%86%E9%A6%99sinmay-coffee-okinawa-%E8%B6%81%E4%BA%BA%E9%82%84%E4%B8%8D%E5%A4%9A%E5%A4%A7%E5%AE%B6%E5%BF%AB%E4%BE%86%E5%96%9D", note: "ç¾åˆ¨ç”Ÿé»‘ç³–é®®å¥¶" }
                        } 
                    },
                    { time: "19:00 - 20:00", title: "æ™šé¤", icon: "ğŸ–", description: "ã†ã¡ãªãƒ¼é£Ÿé“ é³´å£°ä»¥å¤–", notes: "é˜¿å¤è±¬ç«é‹/è±¬æ’ç­‰ç‰¹è‰²æ–™ç†ã€‚<br><a href='https://www.tripadvisor.jp/Restaurant_Review-g1120808-d14138848-Reviews-Uchina_Shokudo_Nakigoe_Igai-Motobu_cho_Kunigami_gun_Okinawa_Prefecture_Kyushu.html' target='_blank' class='text-[#E07A5F] hover:underline'>é³´å£°ä»¥å¤–ä»‹ç´¹</a><br>" },
                    { 
                        time: "After 20:00", title: "å…¥ä½ & è‡ªç”±æ™‚é–“", icon: "ğŸ¨", description: "å…¥ä½é£¯åº—å¾Œç‚ºè‡ªç”±æ™‚é–“ã€‚", 
                        options: {
                            'Mon Refuge': { name: "Mon Refuge Prive", link: "https://www.booking.com/hotel/jp/mon-refuge-prive-si-noyin-rejia.zh-tw.html?aid=2311236", note: "é è¿‘æ°´æ—é¤¨" }
                        },
                        notes: "æ™šä¸Šæ´»å‹•ï¼šéŠæˆ²ç«¶è³½ï¼Œè´å®¶çå“éš”å¤©å…è²»ç‡’è‚‰ (10000æ—¥åœ“å…§)ã€‚"
                    },
                    { time: "å®µå¤œ/é…’å§", title: "å¤œç”Ÿæ´»", icon: "ğŸ»", description: "å¯é¸æ“‡å‰å¾€å±…é…’å±‹æˆ–é…’å§ã€‚", notes: "å±…é…’å±‹åƒè€ƒï¼š<a href='https://maps.app.goo.gl/1PAx4h3yWZLeJ5Ju6' target='_blank' class='text-[#E07A5F] hover:underline'>è±šã¨å¯¿å¸ã®å³¶å±…é…’å±‹</a>" }
                ]
            },
            day2: {
                title: "æµ·æ´‹èˆ‡ç¾é£Ÿä¹‹æ—…",
                date: "10/24 (é€±äº”)",
                events: [
                    { time: "08:30 - 12:00", title: "ç¾éº—æµ·æ°´æ—é¤¨", icon: "ğŸ ", description: "æ¢ç´¢ç¥ç§˜çš„æµ·åº•ä¸–ç•Œã€‚", notes: "å¿…çœ‹ï¼š10:00-10:30 é¤µé£Ÿæµ·è±šæµ·é¾œï¼›10:30/11:30 æµ·è±šç§€ã€‚" },
                    { 
                        time: "12:00 - 14:00", title: "åˆé¤æ™‚é–“", icon: "ğŸœ", description: "æ°´æ—é¤¨å‘¨é‚Šæœ‰å¤šæ¨£åŒ–çš„åˆé¤é¸æ“‡ã€‚", 
                        options: {
                            'æµ·é‚¦ä¸¸': { name: "æµ·äººæ–™ç† æµ·é‚¦ä¸¸ (æµ·é®®å®šé£Ÿ)", link: "https://www.google.com/maps/place/%E6%B5%B7%E4%BA%BA%E6%96%99%E7%90%86+%E6%B5%B7%E9%82%A6%E4%B8%B8/@26.6875317,127.8745423,15.75z/data=!4m22!1m15!4m14!1m6!1m2!1s0x34e4fa3152619e3d:0xea08a6700fdd9ffe!2z5rKW57mp576O6bqX5rW35rC05peP6aSoIOaXpeacrOOAkjkwNS0wMjA2IE9raW5hd2EsIEt1bmlnYW1pIERpc3RyaWN0LCBNb3RvYnUsIElzaGlrYXdhLCA0MjQ!2m2!1d127.8780131!2d26.694338!1m6!1m2!1s0x34e4fbd207cf9a83:0x5e5c187da072999b!2z5rW35Lq65paZ55CGIOa1t-mCpuS4uCDml6XmnKzjgJI5MDUtMDIwNSBPa2luYXdhLCBLdW5pZ2FtaSBEaXN0cmljdCwgTW90b2J1LCBZYW1hZ2F3YSwgMTQyMS0x!2m2!1d127.8836417!2d26.682195!3m5!1s0x34e4fbd207cf9a83:0x5e5c187da072999b!8m2!3d26.682195!4d127.8836417!16s%2Fg%2F1td0w6nl", note: "" },
                            'æµ·ä¸Šè§€æ™¯é¤å»³INOH': { name: "æµ·ä¸Šè§€æ™¯é¤å»³INOH", link: "https://i17fun.tw/inoh/", note: "ä½æ–¼ç¾éº—æµ·æ°´æ—é¤¨4æ¨“,æˆäººåƒ¹æ ¼ç´„ç‚º2,200æ—¥åœ“åƒåˆ°é£½ï¼Œé‚„èƒ½ä¸€é‚Šç”¨é¤ä¸€é‚Šæ¬£è³ç¾éº—æµ·æ™¯" },
                            'å²¸æœ¬é£Ÿå ‚': { name: "å²¸æœ¬é£Ÿå ‚ (ç™¾å¹´æ²–ç¹©éºµ)", link: "https://www.google.com/maps/place/%E5%B2%B8%E6%9C%AC%E9%A3%9F%E5%A0%82/@26.6761861,127.8660123,14z/data=!4m23!1m15!4m14!1m6!1m2!1s0x34e4fa3152619e3d:0xea08a6700fdd9ffe!2z5rKW57mp576O6bqX5rW35rC05peP6aSoIOaXpeacrOOAkjkwNS0wMjA2IE9raW5hd2EsIEt1bmlnYW1pIERpc3RyaWN0LCBNb3RvYnUsIElzaGlrYXdhLCA0MjQ!2m2!1d127.8780131!2d26.694338!1m6!1m2!1s0x34e4f95eb431867d:0x1653b48af7640a31!2z5bK45pys6aOf5aCCIOaXpeacrOOAkjkwNS0wMjE0IE9raW5hd2EsIEt1bmlnYW1pIERpc3RyaWN0LCBNb3RvYnUsIOacrOmDqOeUulRvZ3VjaGksIDU!2m2!1d127.8958949!2d26.6603253!3m6!1s0x34e4f95eb431867d:0x1653b48af7640a31!8m2!3d26.6603253!4d127.8958949!10e9!16s%2Fg%2F1tfn0h3y", note: "" },
                            'å³¶è±šå®¶': { name: "å³¶è±šå®¶ (é™é‡ç‚™çƒ¤å³¶è±¬éºµ)", link: "https://www.google.com/maps/place/Island+Pig+House/@26.6900872,127.8785653,15.75z/data=!3m1!5s0x34e4fa331411ea83:0xa075f02c5f1d5747!4m23!1m15!4m14!1m6!1m2!1s0x34e4fa3152619e3d:0xea08a6700fdd9ffe!2z5rKW57mp576O6bqX5rW35rC05peP6aSoIOaXpeacrOOAkjkwNS0wMjA2IE9raW5hd2EsIEt1bmlnYW1pIERpc3RyaWN0LCBNb3RvYnUsIElzaGlrYXdhLCA0MjQ!2m2!1d127.8780131!2d26.694338!1m6!1m2!1s0x34e4f95cc7f9bf7f:0xb37a97d151c8e3c0!2zSXNsYW5kIFBpZyBIb3VzZSwgNDc555Wq5ZywIFRveW9oYXJhLCBNb3RvYnUsIEt1bmlnYW1pIERpc3RyaWN0LCBPa2luYXdhIDkwNS0wMjA05pel5pys!2m2!1d127.8921072!2d26.6901511!3m6!1s0x34e4f95cc7f9bf7f:0xb37a97d151c8e3c0!8m2!3d26.6901511!4d127.8921072!10e9!16s%2Fg%2F1tj875cl", note: "æ¯æ—¥é™é‡50ç¢—ã€‚" }
                        }
                    },
                    { 
                        time: "ä¸‹åˆ", title: "ä¸­éƒ¨æ™¯é»éŠè¦½", icon: "ğŸï¸", description: "æœ‰å¤šå€‹æ™¯é»ï¼Œè«‹é»é¸ä¸‹æ–¹æŒ‰éˆ•æŸ¥çœ‹ã€‚", 
                        options: {
                            'ç¾åœ‹æ‘': { name: "ç¾åœ‹æ‘", link: "https://bobbyfun.tw/2024-03-05-3072/#1_%E7%BE%8E%E5%9C%8B%E6%9D%91", note: "æ²–ç¹©No.1å¨›æ¨‚å‹è³¼ç‰©å€ï¼é›†è³¼ç‰©ã€ç¾é£Ÿã€æµ·ç˜é­…åŠ›æ–¼ä¸€èº«" },
                            'æ°¸æ—ºå¤¢æ¨‚åŸ': { name: "æ°¸æ—ºå¤¢æ¨‚åŸæ²–ç¹©ä¾†å®¢å¤¢", link: "https://bobbyfun.tw/2024-01-07-2699/", note: "è¶…éç™¾å®¶çŸ¥åå“ç‰Œåº—é‹ª" },
                            'æ®˜æ³¢å²¬': { name: "æ®˜æ³¢å²¬ç‡ˆå¡”", link: "https://bobbyfun.tw/2024-01-07-2691/", note: "èƒ½æ¬£è³æ²–ç¹©æœ¬å³¶æœ€å¾Œä¸€é“è½éœçš„å¤•é™½åæ‰€" }
                        } 
                    },
                    { time: "æ™šä¸Š", title: "æ™šé¤ï¼šç‡’è‚‰ï¼", icon: "ğŸ¥©", description: "ç‰çƒã®ç‰› æ©ç´åº—ï¼Œå·²åˆ†æ‰¹é ç´„ã€‚", notes: "é è¨ˆ 20:00ã€‚é ç´„ç¢¼ï¼š9A77JL, ECST64, YDFWSKã€‚<br><a href='https://bobbyfun.tw/2023-05-01-2338/' target='_blank' class='text-[#E07A5F] hover:underline'>ç‰çƒçš„ç‰›ä»‹ç´¹</a>" },
                    { time: "æ™šä¸Š", title: "å…¥ä½ & ä¼‘æ¯", icon: "ğŸ¨", description: "TERRACE GARDEN OKINAWA", notes: "ä¸­éƒ¨é£¯åº—<br><a href='https://www.agoda.com/terrace-garden-okinawa-h10943499/hotel/okinawa-main-island-jp.html' target='_blank' class='text-[#E07A5F] hover:underline'>è¨‚æˆ¿é€£çµ</a>" },
                ]
            },
            day3: {
                title: "å‹•æ„Ÿèˆ‡æ‚ é–’ä¹‹æ—…",
                date: "10/25 (é€±å…­)",
                events: [
                    { time: "ä¸Šåˆ", title: "æ°´ä¸Šæ´»å‹•ï¼šæµ®æ½›", icon: "ğŸ¤¿", description: "å‰å¾€æ²–ç¹©è— (é’ä¹‹æ´çªŸ) é«”é©—æµ®æ½›ã€‚", notes: "æ™‚é–“ï¼š08:00 - 10:00ï¼Œæ–‡å®‡å·²é è¨‚ã€‚" },
                    { time: "ä¸­åˆ", title: "åˆé¤æ™‚é–“", icon: "ğŸ½ï¸", description: "åˆé¤å¾…å®šï¼Œå¯ä¾æ“šæµ®æ½›å¾Œçš„åœ°é»æ±ºå®šã€‚", notes: "" },
                    { 
                        time: "ä¸‹åˆ", title: "å—éƒ¨æ™¯é»éŠè¦½", icon: "ğŸï¸", description: "æœ‰å¤šå€‹æ™¯é»ï¼Œè«‹é»é¸ä¸‹æ–¹æŒ‰éˆ•æŸ¥çœ‹ã€‚", 
                        options: {
                            'åœ‹éš›é€š': { name: "åœ‹éš›é€š", link: "https://bobbyfun.tw/2024-01-08-2708/", note: "æ²–ç¹©æœ€ç¹è¯å•†æ¥­è¡—ã€ä¼´æ‰‹ç¦®è–åœ°" },
                            'ç¬¬ä¸€ç‰§å¿—å…¬è¨­å¸‚å ´': { name: "ç‰§å¿—å¸‚å ´æœ‰æ²–ç¹©äººå»šæˆ¿ä¹‹ç¨±", link: "https://bobbyfun.tw/2024-01-07-2705/", note: "åœ¨ä¸€æ¨“æŒ‘é¸è‡ªå·±æ»¿æ„çš„é£Ÿæï¼Œé‚„å¯ä»¥è«‹äºŒæ¨“é¤å»³å¹«å¿™æ–™ç†ç¾åƒï¼Œéå¸¸æœ‰è¶£çš„æ—¥æœ¬å¸‚å ´é«”é©—" },
                            'PARCO CITY': { name: "PARCO CITY è³¼ç‰©è–åœ°", link: "https://bobbyfun.tw/2024-01-07-2705/", note: "æ²–ç¹©ç„¡æ•µæµ·æ™¯è³¼ç‰©è–åœ°" },
                            'ç‰æ³‰æ´': { name: "æ²–ç¹©ä¸–ç•Œæ–‡åŒ–ç‹åœ‹", link: "https://bobbyfun.tw/2024-01-11-2733/", note: "æ²–ç¹©ä¸–ç•Œæ–‡åŒ–ç‹åœ‹çš„ã€Œç‰æ³‰æ´ã€æ˜¯æ—¥æœ¬ç¬¬äºŒå¤§é˜ä¹³çŸ³æ´çªŸ" },
                            'æ³¢ä¸Šå®®': { name: "æ‡¸å´–ä¸Šçš„çµ•ç¾ç¥ç¤¾", link: "https://bobbyfun.tw/2024-01-07-2698/", note: "æ²–ç¹©å…«ç¤¾ä¹‹é¦–ã€æœ‰æ²–ç¹©ç¸½é®å®ˆä¹‹ç¨±ï¼Œç‚ºæ²–ç¹©æœ€å…·ä»£è¡¨æ€§çš„ç¥ç¤¾" }
                        } 
                    },
                    { time: "æ™šä¸Š", title: "å¸‚å€æ¢ç´¢ï¼šåœ‹éš›é€š", icon: "ğŸ›ï¸", description: "è‡ªç”±æ´»å‹•ï¼Œæ™šé¤å¯åœ¨æ­¤è§£æ±ºã€‚", notes: "æ™šé¤ï¼š<a href='https://autoreserve.com/zh-hk/restaurants/W2w2Ro8TcnG5hVNxXw4P' target='_blank' class='text-[#E07A5F] hover:underline'>è‚‰çš„è®Šæ…‹é›†åœ˜</a> (å† è/æ–‡å®‡/éŸ‹æ™º/å§µæ±)ã€‚<br>é»å¿ƒï¼šblue sea å†°åº—ã€‚å¯è€ƒæ…®é€›ç¾åœ‹æ‘ã€‚" },
                    { time: "æ™šä¸Š", title: "å…¥ä½ & ä¼‘æ¯", icon: "ğŸ¨", description: "Naha Miharanosato -SEVEN Hotels and Resorts", notes: "<br><a href='https://www.agoda.com/zh-tw/naha-miharanosato-seven-hotels-and-resorts/hotel/okinawa-main-island-jp.html' target='_blank' class='text-[#E07A5F] hover:underline'>è¨‚æˆ¿é€£çµ</a>" }
                ]
            },
            day4: {
                title: "è³¼ç‰©èˆ‡æ­¸é€”",
                date: "10/26 (é€±æ—¥)",
                events: [
                    { time: "æ—©ä¸Š", title: "æœ€å¾Œå·¡ç¦®", icon: "ğŸï¸", description: "å¯é¸æ“‡å‰å¾€ç€¨é•·å³¶æˆ–åœ¨åœ‹éš›é€šç¹¼çºŒè³¼ç‰©ã€‚", notes: "ç€¨é•·å³¶å‡æ—¥å¯èƒ½å®¹æ˜“å¡è»Šï¼Œéœ€æ³¨æ„äº¤é€šæ™‚é–“ã€‚" },
                    { time: "ä¸­åˆ", title: "åˆé¤ & é€›è¡—", icon: "ğŸ", description: "åœ¨åœ‹éš›é€šäº«ç”¨åˆé¤ä¸¦é€²è¡Œæœ€å¾Œçš„æ¡è³¼ã€‚", notes: "" },
                    { time: "ä¸‹åˆ", title: "å‰å¾€æ©Ÿå ´", icon: "ğŸš—", description: "æº–å‚™é‚„è»Šä¸¦è¾¦ç†ç™»æ©Ÿæ‰‹çºŒã€‚", notes: "è¨˜å¾—é ç•™å……è¶³æ™‚é–“ã€‚" },
                    { time: "16:55 - 17:35", title: "è¿”ç¨‹", icon: "âœˆï¸", description: "æ²–ç¹©é‚£éœ¸æ©Ÿå ´ â†’ æŠµé”æ¡ƒåœ’åœ‹éš›æ©Ÿå ´", notes: "æ»¿è¼‰è€Œæ­¸ï¼" }
                ]
            }
        };

        const itineraryContainer = document.getElementById('itinerary');
        Object.keys(itineraryData).forEach(dayKey => {
            const dayData = itineraryData[dayKey];
            const section = document.createElement('section');
            section.id = dayKey;
            section.className = "day-section scroll-mt-32 mb-12 hidden";
            
            let eventsHtml = '';
            dayData.events.forEach((event, index) => {
                let optionsHtml = '';
                if (event.options) {
                    const optionKeys = Object.keys(event.options);
                    const tabsHtml = optionKeys.map((key, i) => `<button class="option-tab ${i === 0 ? 'active' : ''}" data-target="${dayKey}-event${index}-option${i}">${key}</button>`).join('');
                    const contentsHtml = optionKeys.map((key, i) => {
                        const option = event.options[key];
                        return `<div id="${dayKey}-event${index}-option${i}" class="option-content ${i > 0 ? 'hidden' : ''} mt-4 p-4 bg-[#F4F1DE]/60 rounded-lg">
                                    <h5 class="font-semibold">${option.name}</h5>
                                    ${option.note ? `<p class="text-sm text-gray-600 mt-1">${option.note}</p>` : ''}
                                    ${option.link ? `<a href="${option.link}" target="_blank" class="text-sm text-[#E07A5F] hover:underline mt-2 inline-block">æŸ¥çœ‹è©³æƒ… â†’</a>` : ''}
                                </div>`;
                    }).join('');
                    optionsHtml = `<div class="mt-4">
                                        <div class="flex flex-wrap gap-2">${tabsHtml}</div>
                                        <div>${contentsHtml}</div>
                                    </div>`;
                }
                
                eventsHtml += `
                    <div class="timeline-item relative pl-8 pb-8">
                        <div class="timeline-icon text-base sm:text-xl">${event.icon}</div>
                        <p class="text-sm font-medium text-[#E07A5F]">${event.time}</p>
                        <h4 class="text-lg sm:text-xl font-bold mt-1 text-[#3D405B]">${event.title}</h4>
                        <p class="text-gray-700 mt-2">${event.description}</p>
                        ${event.notes ? `<div class="mt-2 text-sm text-gray-500 bg-[#F4F1DE]/60 p-3 rounded-md">${event.notes}</div>` : ''}
                        ${optionsHtml}
                    </div>
                `;
            });

            // ** MODIFIED START: Added padding to the timeline container on mobile **
            section.innerHTML = `
                <div class="flex items-baseline mb-6">
                     <h2 class="text-2xl sm:text-3xl font-bold text-[#E07A5F] mr-4">Day ${dayKey.slice(-1)}</h2>
                     <p class="text-lg sm:text-xl font-medium text-gray-500">${dayData.date} - ${dayData.title}</p>
                </div>
                <div class="relative pl-4 sm:pl-0">${eventsHtml}</div>
            `;
            // ** MODIFIED END **
            itineraryContainer.appendChild(section);
        });

        // Event listener for inner option tabs (unchanged)
        itineraryContainer.addEventListener('click', function(e) {
            if (e.target.classList.contains('option-tab')) {
                const targetId = e.target.dataset.target;
                const parent = e.target.closest('.timeline-item');
                parent.querySelectorAll('.option-tab').forEach(tab => tab.classList.remove('active'));
                e.target.classList.add('active');
                parent.querySelectorAll('.option-content').forEach(content => content.classList.add('hidden'));
                document.getElementById(targetId).classList.remove('hidden');
            }
        });
        
        // --- LOGIC FOR MAIN DAY TABS ---

        // Select all main navigation links from both nav bars
        const mainNavLinks = document.querySelectorAll('header .nav-link, nav.md\\:hidden .nav-link');
        
        // Show the 'ç¸½è¦½' (Overview) section and set its nav link to active by default
        document.getElementById('overview').classList.remove('hidden');
        mainNavLinks.forEach(link => {
            if (link.getAttribute('href') === '#overview') {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });

        // Add click listener for main day navigation to switch tabs
        mainNavLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);

                if (!targetSection) return;

                // Hide all main sections (overview and all day-sections)
                document.querySelectorAll('#overview, .day-section').forEach(section => {
                    section.classList.add('hidden');
                });

                // Show the clicked section
                targetSection.classList.remove('hidden');

                // Update active state for all nav links (both mobile and desktop)
                const targetHref = link.getAttribute('href');
                mainNavLinks.forEach(navLink => {
                    if (navLink.getAttribute('href') === targetHref) {
                        navLink.classList.add('active');
                    } else {
                        navLink.classList.remove('active');
                    }
                });
            });
        });

        // Chart.js logic (unchanged)
        const ctx = document.getElementById('budgetChart').getContext('2d');
        const budgetChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['ä½å®¿', 'äº¤é€š', 'é¤é£²', 'æ´»å‹• & é–€ç¥¨', 'è³¼ç‰© & å…¶ä»–'],
                datasets: [{
                    label: 'é ç®—åˆ†é…',
                    data: [35000, 25000, 20000, 15000, 10000],
                    backgroundColor: ['#3D405B', '#81B29A', '#E07A5F', '#F2CC8F', '#F4F1DE'],
                    borderColor: '#F8F7F4',
                    borderWidth: 4,
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { font: { family: "'Inter', 'Noto Sans TC', sans-serif" } }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.label || '';
                                if (label) { label += ': '; }
                                if (context.parsed !== null) {
                                    label += new Intl.NumberFormat('ja-JP', { style: 'currency', currency: 'JPY' }).format(context.parsed);
                                }
                                return label;
                            }
                        }
                    }
                },
                cutout: '60%'
            }
        });
    </script>
</body>
</html>